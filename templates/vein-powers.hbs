{{!-- =============================== --}}
{{!--   VEIN POWERS (no inline)      --}}
{{!-- =============================== --}}

<div class="vein-powers">
  {{!-- Loop over all seuils the helper returns --}}
  {{#each (seuilsWithPowers @root.actor) as |seuil|}}
    <section class="powers-section" data-seuil="{{seuil}}">
      <header class="powers-header flexrow">
        <h3 class="powers-title">
          {{ localize "Valombreuse5eGMG.ui.seuil" }} {{seuil}}
        </h3>
      </header>

      <ol class="powers-list">
        {{#each (getVeinPowersBySeuil @root.actor seuil) as |power|}}
          {{!-- If you created the row-partial, use it: --}}
          {{> "modules/valombreuse5egmg/templates/vein-powers-row.hbs" power=power}}

          {{!-- OR inline the li here if you don't want a second partial:
          <li class="power-row flexrow" data-item-id="{{power.id}}">
            <div class="power-name">
              <a class="power-link"
                 data-item-id="{{power.id}}"
                 data-tooltip-direction="UP"
                 data-tooltip="{{{stripHTML power.system.description.value}}}"
                 title="{{{stripHTML power.system.description.value}}}">
                {{power.name}}
              </a>
            </div>
            <div class="power-controls">
              <a class="action-button power-open"
                 data-action="openPower"
                 title="{{localize 'Valombreuse5eGMG.powers.open'}}">
                <i class="fa-solid fa-book-open"></i>
              </a>
              <a class="action-button power-remove"
                 data-action="removePower"
                 title="{{localize 'Valombreuse5eGMG.powers.remove'}}">
                <i class="fa-solid fa-xmark"></i>
              </a>
            </div>
          </li>
          --}}
        {{else}}
          <li class="power-row power-row--empty">
            {{localize "Valombreuse5eGMG.powers.none"}}
          </li>
        {{/each}}
      </ol>
    </section>
  {{/each}}
</div>
